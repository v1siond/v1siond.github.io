(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b9b0088"],{"06c8":function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("aede"),o=n("d225"),i=n("b0b4"),a=n("9530"),s=n.n(a);function c(){var t=Object(r["a"])(["\n      mutation ccreatePost($body: String!, $id: ID!) {\n        createPost(body: $body, threadId: $id) {\n          id\n        }\n      }\n    "]);return c=function(){return t},t}function u(){var t=Object(r["a"])(["\n      mutation createThread($title: String!, $id: ID!, $body: String!) {\n        createThread(title: $title, categoryId: $id, body: $body) {\n          id\n          title\n        }\n      }\n    "]);return u=function(){return t},t}function d(){var t=Object(r["a"])(["\n      mutation createCategory($title: String!) {\n        createCategory(title: $title) {\n          id\n          title\n        }\n      }\n    "]);return d=function(){return t},t}function l(){var t=Object(r["a"])(["\n      mutation createUser($name: String!, $username: String!, $email: String!, $password: String!) {\n        createUser(\n          name: $name,\n          username: $username,\n          email: $email,\n          password: $password\n        ) {\n          id\n          username\n          email\n        }\n      }\n    "]);return l=function(){return t},t}function p(){var t=Object(r["a"])(["\n      mutation authenticate($email: String!, $password: String!) {\n        authenticate(email: $email, password: $password)\n      }\n    "]);return p=function(){return t},t}var f=function(){function t(){Object(o["a"])(this,t)}return Object(i["a"])(t,[{key:"authenticate",value:function(){return s()(p())}},{key:"createUser",value:function(){return s()(l())}},{key:"createCategory",value:function(){return s()(d())}},{key:"createThread",value:function(){return s()(u())}},{key:"createPost",value:function(){return s()(c())}}]),t}()},2638:function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)}var o=["attrs","props","domProps"],i=["class","style","directives"],a=["on","nativeOn"],s=function(t){return t.reduce(function(t,e){for(var n in e)if(t[n])if(-1!==o.indexOf(n))t[n]=r({},t[n],e[n]);else if(-1!==i.indexOf(n)){var s=t[n]instanceof Array?t[n]:[t[n]],u=e[n]instanceof Array?e[n]:[e[n]];t[n]=s.concat(u)}else if(-1!==a.indexOf(n))for(var d in e[n])if(t[n][d]){var l=t[n][d]instanceof Array?t[n][d]:[t[n][d]],p=e[n][d]instanceof Array?e[n][d]:[e[n][d]];t[n][d]=l.concat(p)}else t[n][d]=e[n][d];else if("hook"==n)for(var f in e[n])t[n][f]=t[n][f]?c(t[n][f],e[n][f]):e[n][f];else t[n]=e[n];else t[n]=e[n];return t},{})},c=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=s},"98bc":function(t,e,n){"use strict";e["a"]={functional:!0,render:function(t,e){var n=e.props;e.children;return t("ul",{class:"tab-panel"},[t("li",{class:"tab ".concat(!n.preview&&"active"),on:{click:function(){return n.showPreview()}}},[t("h3",["Editor"])]),t("li",{class:"tab ".concat(n.preview&&"active"),on:{click:function(){return n.showEditor()}}},[t("h3",["Preview"])])])}}},d0a4:function(t,e,n){"use strict";n.r(e);var r=n("2638"),o=n.n(r),i=n("cebc"),a=n("d225"),s=n("b0b4"),c=n("308d"),u=n("6bb5"),d=n("4e2b"),l=n("9ab4"),p=n("60a3"),f=n("9ce6"),h=n.n(f),b=n("65d9"),v=n.n(b),y=n("06c8"),w=n("4bb5"),m=n("98bc"),g={functional:!0,render:function(t,e){var n=e.props,r=e.children;return n.data.getLogin?t("main",{class:"section new-post"},[t(m["a"],{attrs:{preview:n.data.preview,showPreview:n.methods.showPreview,showEditor:n.methods.showEditor}}),r]):t("div",["You must be logged to perform this action."])}},$=new y["a"],k=function(t){function e(){var t;return Object(a["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.postBody="",t.preview=!1,t}return Object(d["a"])(e,t),Object(s["a"])(e,[{key:"postSuccess",value:function(t){t.data.createPost&&this.$router.push("/blog/categories/".concat(this.id,"/threads/").concat(this.threadId))}},{key:"postError",value:function(t){console.log(t)}},{key:"getPostBody",value:function(t){this.postBody=t}},{key:"showPreview",value:function(){this.preview=!1}},{key:"showEditor",value:function(){this.preview=!0}},{key:"mutate",value:function(){var t=this;""!==this.postBody?this.$apollo.mutate({variables:{body:this.postBody,id:this.threadId},mutation:$.createPost()}).then(function(e){e.data.createPost&&t.postSuccess(e)}).catch(function(e){e.graphQLErrors&&t.postError(e)}):alert("Post can't be blank")}},{key:"render",value:function(t){var e=this;return this.setTitle("New Post"),this.setBack(!0),t(g,{attrs:{data:Object(i["a"])({},this.$props,this.$data,{getLogin:this.getLogin}),methods:{showPreview:this.showPreview,showEditor:this.showEditor}}},[this.preview?t("vue-markdown",{class:"markdown-style -padding"},[this.postBody]):t("div",{class:"thread-comment-box"},[t("textarea",o()([{on:{input:function(t){t.target.composing||(e.postBody=t.target.value)}},class:"textarea",attrs:{id:"postBody",placeholder:"Please be friendly..."},domProps:{value:e.postBody}},{directives:[{name:"model",value:e.postBody,modifiers:{}}]}])),t("button",{class:"pure-button -fixed pure-button-primary input",on:{click:function(){return e.mutate()}}},["New Post"])])])}}]),e}(p["d"]);l["b"]([Object(p["c"])()],k.prototype,"threadId",void 0),l["b"]([Object(p["c"])()],k.prototype,"id",void 0),l["b"]([Object(w["a"])("getLogin")],k.prototype,"getLogin",void 0),l["b"]([Object(w["b"])("setTitle")],k.prototype,"setTitle",void 0),l["b"]([Object(w["b"])("setBack")],k.prototype,"setBack",void 0),k=l["b"]([v()({name:"newPost",components:{VueMarkdown:h.a}})],k);e["default"]=k}}]);
//# sourceMappingURL=chunk-2b9b0088.76cad8d8.js.map