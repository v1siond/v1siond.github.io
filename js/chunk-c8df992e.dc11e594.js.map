{"version":3,"sources":["webpack:///./src/graphql/Mutations.ts","webpack:///./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","webpack:///./src/templates/layouts/signup.tsx","webpack:///./src/layouts/Signup.tsx"],"names":["Mutations","graphql_tag__WEBPACK_IMPORTED_MODULE_3___default","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_extends","Object","assign","a","b","c","arguments","length","d","prototype","hasOwnProperty","call","apply","this","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","indexOf","Array","e","concat","f","g","h","i","mergeFn","module","exports","layouts_signup","functional","render","_ref","props","class","helper_default","on","input","$event","target","composing","name","value","attrs","id","placeholder","type","domProps","directives","modifiers","email","password","username","click","methods","signup","MutationC","Signup_Signup","_Vue","Signup","_this","classCallCheck","inherits","createClass","key","_this2","$apollo","mutate","mutation","createUser","variables","then","asyncToGenerator","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","alert","signin","stop","_x","catch","error","console","log","_this3","authenticate","setLogin","localStorage","setItem","setAdmin","removeItem","data","$router","push","objectSpread","$data","vue_property_decorator","tslib_es6","lib","vue_class_component_common_default","__webpack_exports__"],"mappings":"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","file":"js/chunk-c8df992e.dc11e594.js","sourcesContent":["import gql from 'graphql-tag';\r\nexport default class Mutations {\r\n    // Users\r\n    authenticate() {\r\n        return gql `\r\n      mutation authenticate($email: String!, $password: String!) {\r\n        authenticate(email: $email, password: $password)\r\n      }\r\n    `;\r\n    }\r\n    createUser() {\r\n        return gql `\r\n      mutation createUser($name: String!, $username: String!, $email: String!, $password: String!) {\r\n        createUser(\r\n          name: $name,\r\n          username: $username,\r\n          email: $email,\r\n          password: $password\r\n        ) {\r\n          id\r\n          username\r\n          email\r\n        }\r\n      }\r\n    `;\r\n    }\r\n    // Categories\r\n    createCategory() {\r\n        return gql `\r\n      mutation createCategory($title: String!) {\r\n        createCategory(title: $title) {\r\n          id\r\n          title\r\n        }\r\n      }\r\n    `;\r\n    }\r\n    // Threads\r\n    createThread() {\r\n        return gql `\r\n      mutation createThread($title: String!, $id: ID!, $body: String!) {\r\n        createThread(title: $title, categoryId: $id, body: $body) {\r\n          id\r\n          title\r\n        }\r\n      }\r\n    `;\r\n    }\r\n    // Posts\r\n    createPost() {\r\n        return gql `\r\n      mutation ccreatePost($body: String!, $id: ID!) {\r\n        createPost(body: $body, threadId: $id) {\r\n          id\r\n        }\r\n      }\r\n    `;\r\n    }\r\n}\r\n","\"use strict\";function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h)}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","export default ({ props }: any) => {\r\n  return (\r\n    <main class='section -login'>\r\n      <section class='parallax-background -levelSelection'>\r\n        <h1 class='game-title'>Signup</h1>\r\n        <div class='contact-form'>\r\n          <input\r\n            id='name'\r\n            placeholder='Name'\r\n            type='text'\r\n            vModel={props.name}\r\n          />\r\n          <input\r\n            id='email'\r\n            placeholder='Email'\r\n            type='email'\r\n            vModel={props.email}\r\n          />\r\n          <input\r\n            id='password'\r\n            placeholder='Password'\r\n            type='password'\r\n            vModel={props.password}\r\n          />\r\n          <input\r\n            id='username'\r\n            placeholder='Username'\r\n            type='text'\r\n            vModel={props.username}\r\n          />\r\n          <button class='button' onClick={() => props.methods.signup(props.name, props.email, props.password, props.username)}>\r\n            Sign up\r\n          </button>\r\n        </div>\r\n        <article class='background background-1'>\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n        </article>\r\n        <article class='background background-2'>\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n        </article>\r\n        <article class='background background-3'>\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n        </article>\r\n        <article class='background background-4'>\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          </article>\r\n        <article class='background background-5'>\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n        </article>\r\n        <article class='background background-6'>\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n        </article>\r\n        <article class='layerBottom'>\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n          <span class='divisions' />\r\n        </article>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\n","import { Vue } from 'vue-property-decorator'\r\nimport Component from 'vue-class-component'\r\nimport Mutations from '../graphql/Mutations'\r\nimport SignupTemplate from '../templates/layouts/signup'\r\nconst MutationC = new Mutations()\r\nimport {\r\n  Mutation\r\n} from 'vuex-class'\r\n\r\n@Component({\r\n  name: 'signup'\r\n})\r\nexport default class Signup extends Vue {\r\n  @Mutation('setLogin') public setLogin\r\n  @Mutation('setAdmin') public setAdmin\r\n  public email: string = ''\r\n  public password: string = ''\r\n  public name: string = ''\r\n  public username: string = ''\r\n\r\n  public signup (name, email, password, username) {\r\n    this.$apollo\r\n      .mutate({\r\n        mutation: MutationC.createUser(),\r\n        variables: {\r\n          email,\r\n          password,\r\n          name,\r\n          username\r\n        }\r\n      })\r\n      .then(async (response) => {\r\n        alert(`${this.name} was registered successfully`)\r\n        await this.signin(email, password)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  public signin (email, password) {\r\n    this.$apollo\r\n      .mutate({\r\n        mutation: MutationC.authenticate(),\r\n        variables: {\r\n          email,\r\n          password\r\n        }\r\n      })\r\n      .then((response) => {\r\n        this.setLogin(true)\r\n        if (email === 'alex@smoothterminal.com') {\r\n          localStorage.setItem('admin', 'true')\r\n          this.setAdmin(true)\r\n        } else {\r\n          localStorage.removeItem('admin')\r\n          this.setAdmin(false)\r\n        }\r\n        localStorage.setItem('token', response.data.authenticate)\r\n        this.$router.push('/blog')\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  public render (h: any) {\r\n    return (\r\n      <SignupTemplate\r\n        class='section'\r\n        data={{\r\n          ...this.$data,\r\n          email: this.email,\r\n          password: this.password,\r\n          name: this.name,\r\n          username: this.username\r\n        }}\r\n        methods={{\r\n          signup: this.signup\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}